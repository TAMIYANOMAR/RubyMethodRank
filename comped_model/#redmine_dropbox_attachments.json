{" RedmineDropbox AttachmentsControllerPatch InstanceMethods redirect_to_dropbox":{"type":"method","name":"redirect_to_dropbox","children":[],"call":[" redirect_to ","f direct_url [] ","f direct_url ","Attachment  dropbox_client find ","@attachment disk_filename ","Attachment  dropbox_client ","@attachment increment_download ","@attachment container is_a? ","@attachment container ","@attachment dropbox_path ","ref direct_url [] ","ref direct_url ","client find ","(send\n  (lvar :path) :[]\n  (int 0)) flatten join ","(send\n  (lvar :path) :[]\n  (int 0)) flatten ","path [] ","path join ","@attachment dropbox_path split ","@attachment respond_to? ","(send\n  (lvar :p) :[]\n  (int 0)) flatten join ","(send\n  (lvar :p) :[]\n  (int 0)) flatten ","p [] ","path split ","Attachment  dropbox_client find  direct_url [] ","Attachment  dropbox_client find  direct_url ","Attachment  dropbox_client Attachment  dropbox_client find ind ","Attachment  dropath split box_client find ","Attachment  dropbox_Attachment  dropbox_client  find ","@attachment disk_Attachment  dropbox_client find ilename ","Attachment  dropath split box_client ","Attachment  dropbox_Attachment  dropbox_client  ","@attachment dropath split box_path split ath ","reAttachment  dropbox_client find  direct_url [] ","reAttachment  dropbox_client find  direct_url ","client Attachment  dropbox_client find ind ","Attachment  dropbox_client  find ","(send\n  (lvar :path) :[]\n  (int 0)) Attachment  dropbox_client find latten join ","(send\n  (lvar :path split ath) :[]\n  (int 0)) flatten join ","(send\n  (lvar :path) :[]\n  (int 0)) Attachment  dropbox_client find latten ","(send\n  (lvar :path split ath) :[]\n  (int 0)) flatten ","path split ath [] ","path split ath join ","@attachment dropath split box_path split ath spath split lit ","@attachment respath split ond_to? ","(send\n  (lvar :p) :[]\n  (int 0)) Attachment  dropbox_client find latten join ","(send\n  (lvar :path split ) :[]\n  (int 0)) flatten join ","(send\n  (lvar :p) :[]\n  (int 0)) Attachment  dropbox_client find latten ","(send\n  (lvar :path split ) :[]\n  (int 0)) flatten ","path split  [] ","path split ath spath split lit "]}," RedmineDropbox AttachmentsControllerPatch included":{"type":"method","name":"included","children":[],"call":[]}," RedmineDropbox AttachmentPatch InstanceMethods delete_from_dropbox":{"type":"method","name":"delete_from_dropbox","children":[],"call":["f destroy ","Attachment  dropbox_client find "," disk_filename ","Attachment  dropbox_client "," logger debug "," logger "," dropbox_path "," dropbox_filename ","Attachment  dropbox_client find  destroy ","Attachment  dropbox_client Attachment  dropbox_client find ind "," disk_Attachment  dropbox_client find ilename "," dropbox_Attachment  dropbox_client find ilename "]}," RedmineDropbox AttachmentPatch InstanceMethods save_to_dropbox":{"type":"method","name":"save_to_dropbox","children":[],"call":[" digest= ","md5 hexdigest ","Digest MD5  new ","Attachment  dropbox_client upload ","@temp_file read "," disk_filename ","Attachment  dropbox_client "," logger debug "," logger ","@temp_file size > ","@temp_file size "," dropbox_path "," dropbox_filename ","@temp_file is_a? ","Digest MD5  new  hexdigest "]}," RedmineDropbox AttachmentPatch ClassMethods dropbox_client":{"type":"method","name":"dropbox_client","children":[],"call":["Dropbox API Client  new ","k [] "," raise "," l ","settings value ","settings nil? ","Setting  find_by_name ","Attachment  dropbox_plugin_settings ","Attachment  dropbox_client_instance nil? ","Attachment  dropbox_client_instance ","settings value  [] ","Attachment  dropbox_plugin_settings  [] ","Setting  find_by_name  value ","Setting  find_by_name  nil? ","Attachment  dropbox_plugin_Setting  find_by_name  "]}," RedmineDropbox AttachmentPatch included":{"type":"method","name":"included","children":[],"call":[]}," RedmineDropbox AttachmentPatch InstanceMethods dropbox_path":{"type":"method","name":"dropbox_path","children":[],"call":["Attachment  dropbox_plugin_settings [] ","Attachment  dropbox_plugin_settings ","(lvar :path) compact join ","(lvar :path) compact ","path blank? ","path compact join ","path compact ","path << ","context class name ","context class ","context project identifier ","context project "," class get_context "," class "," container ","Attachment  dropbox_plugin_settings [] == ","base blank? ","ctx class name ","ctx class ","ctx project identifier ","ctx project ","project identifier ","ctx == ","context [] ","context is_a? ","Project  find ","pid nil? ","ctx nil? ","(lvar :Attachment  dropbox_plugin_settings [] ) compact join ","(lvar :Attachment  dropbox_plugin_settings [] ) compact ","Attachment  dropbox_plugin_settings []  blank? ","Attachment  dropbox_plugin_settings []  compact join ","Attachment  dropbox_plugin_settings []  compact ","Attachment  dropbox_plugin_settings []  << ","context context project  identifier ","context Project  find  identifier ","context context project  ","context Project  find  ","context class name  class name ","context []  class name ","context class name  class ","context []  class ","context class name  project identifier ","context []  project identifier ","ctx context project  identifier ","ctx Project  find  identifier ","context class name  project ","context []  project ","ctx context project  ","ctx Project  find  ","context project  identifier ","Project  find  identifier ","context class name  == ","context []  == ","ctx project identifier  nil? ","project identifier  nil? ","context class name  nil? ","context []  nil? "]}," RedmineDropbox AttachmentPatch ClassMethods dropbox_plugin_settings":{"type":"method","name":"dropbox_plugin_settings","children":[],"call":["settings value [] ","settings value ","key nil? "," raise "," l ","settings nil? ","Setting  find_by_name ","Setting  find_by_name  value [] ","Setting  find_by_name  value ","Setting  find_by_name  nil? "]}," RedmineDropbox AttachmentPatch InstanceMethods dropbox_filename":{"type":"method","name":"dropbox_filename","children":[],"call":[" filename "," disk_filename "," disk_filename blank? "," disk_filename= ","DateTime  now strftime ","DateTime  now "," new_record? "]}," RedmineDropbox AttachmentPatch ClassMethods get_context":{"type":"method","name":"get_context","children":[],"call":[]}," RedmineDropbox AttachmentPatch ClassMethods set_context":{"type":"method","name":"set_context","children":[],"call":[]}," Redmine Acts Attachable InstanceMethods save_attachments":{"type":"method","name":"save_attachments","children":[],"call":[" orig_save_attachments ","User  current ","Attachment  set_context "]}," Redmine Acts Attachable InstanceMethods included":{"type":"method","name":"included","children":[],"call":[]}," Attachable InstanceMethods save_attachments":{"type":"method","name":"save_attachments","children":[],"call":[" orig_save_attachments ","User  current ","Attachment  set_context "]}," Attachable InstanceMethods included":{"type":"method","name":"included","children":[],"call":[]}," RedmineDropbox AttachmentsControllerPatch Redmine22AndOlder prepare_dropbox_redirect":{"type":"method","name":"prepare_dropbox_redirect","children":[],"call":[" redirect_to_dropbox ","@attachment dropbox_path ","@attachment increment_download ","@attachment container is_a? ","@attachment container ","@attachment respond_to? "]}," RedmineDropbox AttachmentsControllerPatch Redmine23AndNewer prepare_dropbox_redirect":{"type":"method","name":"prepare_dropbox_redirect","children":[],"call":[" redirect_to_dropbox ","@attachment dropbox_path ","@attachment increment_download ","@attachment container is_a? ","@attachment container ","Attachment  set_context ","@attachment respond_to? ","Attachment  dropbox_absolute_path "," request env [] scan flatten first "," request env [] scan flatten "," request env [] scan "," request env [] "," request env "," request ","ref [] ","klass constantize find project_id ","klass constantize find ","klass constantize ","record > ","ref [] to_i ","klass == ","ref [] singularize titlecase ","ref [] singularize ","ref length > ","ref length ","ref index + ","ref index "," request env [] split ","@attachment nil? ","@attachment dropbox_Attachment  dropbox_absolute_path  ","Attachment  dropbox_absolute_Attachment  dropbox_absolute_path  ","ref []  [] "," request env [] split  [] ","klass constantize find ref [] _id ","klass constantize find klass constantize find project_id _id ","ref [] singularize titlecase  constantize find project_id ","ref [] singularize titlecase  constantize find ","ref [] singularize titlecase  constantize ","ref [] to_i  > ","ref []  [] to_i "," request env [] split  [] to_i ","ref [] singularize titlecase  == ","ref []  [] singularize titlecase "," request env [] split  [] singularize titlecase ","ref []  [] singularize "," request env [] split  [] singularize ","ref []  length > "," request env [] split  length > ","ref []  length "," request env [] split  length ","ref []  index + "," request env [] split  index + ","ref []  index "," request env [] split  index "]}," RedmineDropbox AttachmentPatch ClassMethods dropbox_absolute_path":{"type":"method","name":"dropbox_absolute_path","children":[],"call":["path compact join ","path compact ","path << ","Attachment  dropbox_plugin_settings [] == ","Attachment  dropbox_plugin_settings [] ","Attachment  dropbox_plugin_settings ","base blank? ","DateTime  now strftime ","DateTime  now ","Attachment  dropbox_plugin_settings []  blank? "]}}