{" Audited Sweeper define_callback":{"type":"method","name":"define_callback","children":[],"call":["klass send ","observer update "]}," Audited Sweeper add_observer!":{"type":"method","name":"add_observer!","children":[],"call":[" define_callback "]}," Audited Sweeper current_user":{"type":"method","name":"current_user","children":[],"call":[" controller send ","Audited  current_user_method "," controller "," controller respond_to? "," lambda "]}," Audited Sweeper before_create":{"type":"method","name":"before_create","children":[],"call":["audit remote_address= "," controller try try "," controller try "," controller "," current_user ","audit user ","audit request_uuid= "," request_uuid "]}," Audited Sweeper after":{"type":"method","name":"after","children":[],"call":[" controller= "]}," Audited Sweeper before":{"type":"method","name":"before","children":[],"call":[" controller= "]}," Audited Auditor AuditedClassMethods audit_as":{"type":"method","name":"audit_as","children":[],"call":["Audited  audit_class as_user ","Audited  audit_class ","Audit  as_user ","Audited  audit_model as_user ","Audited  audit_model "]}," Audited Auditor AuditedClassMethods enable_auditing":{"type":"method","name":"enable_auditing","children":[],"call":[" auditing_enabled= "]}," Audited Auditor AuditedClassMethods disable_auditing":{"type":"method","name":"disable_auditing","children":[],"call":[" auditing_enabled= "]}," Audited Auditor AuditedClassMethods without_auditing":{"type":"method","name":"without_auditing","children":[],"call":[" enable_auditing ","block call tap ","block call "," disable_auditing "," auditing_enabled "," class_auditing_enabled "]}," Audited Auditor AuditedClassMethods audited_columns":{"type":"method","name":"audited_columns","children":[],"call":[" non_audited_columns include? ! "," non_audited_columns include? ","c name "," non_audited_columns "," columns select "," columns "," column_names - "," column_names "," non_audited_columns map include? "," non_audited_columns map "," columns reject "]}," Audited Auditor AuditedInstanceMethods empty_callback":{"type":"method","name":"empty_callback","children":[],"call":[]}," Audited Auditor AuditedInstanceMethods require_comment":{"type":"method","name":"require_comment","children":[],"call":[" errors add "," errors "," audit_comment blank? "," audit_comment "," auditing_enabled "," throw ","Rails  version start_with? ","Rails  version "]}," Audited Auditor AuditedInstanceMethods write_audit":{"type":"method","name":"write_audit","children":[],"call":[" audits create "," audits "," run_callbacks "," auditing_enabled "," audit_comment= ","attrs []= "," send "," audit_associated_with "," audit_associated_with nil? "," combine_audits_if_needed ","attrs [] != ","attrs [] ","  audits create s create ","  audits create s ","  audits create ing_enabled ","  audits create _comment= ","  audits create _associated_with ","  audits create _associated_with nil? "," combine_ audits create s_if_needed "]}," Audited Auditor AuditedInstanceMethods audit_destroy":{"type":"method","name":"audit_destroy","children":[],"call":[" write_audit "," audit_comment "," audited_attributes "," new_record? "]}," Audited Auditor AuditedInstanceMethods audit_update":{"type":"method","name":"audit_update","children":[],"call":[" write_audit "," audit_comment "," audit_comment blank? ","(lvasgn :changes\n  (send nil :audited_changes)) empty? "," audited_changes "," audited_options [] == "," audited_options [] "," audited_options ","(lvasgn : audited_changes \n  (send nil :audited_ audited_changes )) empty? "," audited_ audited_changes  "]}," Audited Auditor AuditedInstanceMethods audit_create":{"type":"method","name":"audit_create","children":[],"call":[" write_audit "," audit_comment "," audited_attributes "]}," Audited Auditor AuditedInstanceMethods audits_to":{"type":"method","name":"audits_to","children":[],"call":[" audits to_version "," audits ","previous version "," audits descending offset first "," audits descending offset "," audits descending "," version - "," version ","version == "," audit_version - "," audit_version "," audits to_ version -  "," audits to_ audit_version -  ","previous  version -  ","previous  audit_version -  "," audits descending offset first  version ","  version -  - ","  audit_version -  - ","  version -  ","  audit_version -  "," version -  == "," audit_version -  == "," audit_ version -  - "," audit_ audit_version -  - "," audit_ version -  "," audit_ audit_version -  "]}," Audited Auditor AuditedInstanceMethods audited_changes":{"type":"method","name":"audited_changes","children":[],"call":["changes []= "," [] "," changed_attributes except inject "," changed_attributes except "," non_audited_columns "," changed_attributes ","filtered_changes to_hash "," normalize_enum_changes "," redact_values ","all_changes except "," class non_audited_columns "," class ","all_changes slice "," class audited_columns "," audited_options [] present? "," audited_options [] "," audited_options "," changes "," changes_to_save "," respond_to? ","collection inject "," changed_attributes slice "," class audited_columns map "," audited_columns "," filter_encrypted_attrs "," previous_changes "," audits last audited_changes [] to_json == ","v [] to_json ","v [] "," audits last audited_changes [] to_json "," audits last audited_changes [] "," audits last audited_changes "," audits last "," audits ","v to_json ","filtered_changes reject! "," audits present? ","last_audit [] to_json == ","last_audit [] to_json ","last_audit [] "," non_ class audited_columns map  "," normalize_enum_changes  to_hash "," redact_values  to_hash ","all_changes except  to_hash ","all_changes slice  to_hash "," filter_encrypted_attrs  to_hash "," changes  except "," changes_to_save  except "," previous_changes  except "," class non_ class audited_columns map  "," changes  slice "," changes_to_save  slice "," previous_changes  slice "," class  class audited_columns map  "," changed_attributes except  inject "," class  class audited_columns map  map ","  class audited_columns map  "," normalize_enum_changes  reject! "," redact_values  reject! ","all_changes except  reject! ","all_changes slice  reject! "," filter_encrypted_attrs  reject! "]}," Audited Auditor AuditedInstanceMethods revision_with":{"type":"method","name":"revision_with","children":[],"call":["revision instance_variable_set ","proxy respond_to? ","proxy nil? ! ","proxy nil? ","revision instance_variable_get ","revision instance_variables ","Audited  audit_class assign_revision_attributes ","Audited  audit_class ","revision send "," destroyed? ! "," destroyed? "," attributes ","revision id= "," id "," dup tap "," dup ","revision instance_variables each "," rails_below? ","Audit  assign_revision_attributes ","Audited  audit_model assign_revision_attributes ","Audited  audit_model ","revision instance_variable_get  respond_to? ","revision instance_variable_get  nil? ! ","revision instance_variable_get  nil? "]}," Audited Auditor AuditedInstanceMethods audited_attributes":{"type":"method","name":"audited_attributes","children":[],"call":[" attributes except "," non_audited_columns "," attributes "," normalize_enum_changes "," class non_audited_columns "," class "," non_audited_columns map "," filter_encrypted_attrs "," redact_values "]}," Audited Auditor AuditedInstanceMethods revision_at":{"type":"method","name":"revision_at","children":[],"call":[" revision_with ","Audited  audit_class reconstruct_attributes ","Audited  audit_class ","audits empty? "," audits up_until "," audits ","Audit  reconstruct_attributes ","Audited  audit_model reconstruct_attributes ","Audited  audit_model "," audits up_until  empty? ","  audits up_until  up_until ","  audits up_until  "]}," Audited Auditor AuditedInstanceMethods revision":{"type":"method","name":"revision","children":[],"call":[" revision_with ","Audited  audit_class reconstruct_attributes "," audits_to ","Audited  audit_class "," audits last version >= "," audits last version "," audits last "," audits ","version == ","Audit  reconstruct_attributes ","Audited  audit_model reconstruct_attributes ","Audited  audit_model "]}," Audited Auditor AuditedInstanceMethods revisions":{"type":"method","name":"revisions","children":[],"call":["revisions << ","audit revision ","audits each ","audits empty? "," audits from_version "," audits "," revision_with ","previous_attributes merge! ","audit version ","audit new_attributes ","targeted_audits map "," reconstruct_attributes ","all_audits - ","audit version >= ","all_audits select "," audits select to_a "," audits select "," audits from_version exists? ","audits map "," audits from_version  each "," audits from_version  empty? ","  audits from_version  from_version ","  audits from_version  "," reconstruct_attributes  merge! ","targeted_ audits from_version  map ","all_ audits from_version  - "," audits select to_a  - ","all_ audits from_version  select "," audits select to_a  select ","  audits from_version  select to_a ","  audits from_version  select ","  audits from_version  from_version exists? "," audits from_version  map "]}," Audited Auditor AuditedInstanceMethods without_auditing":{"type":"method","name":"without_auditing","children":[],"call":[" class without_auditing "," class "]}," Audited Auditor AuditedInstanceMethods save_without_auditing":{"type":"method","name":"save_without_auditing","children":[],"call":[" save "," without_auditing "]}," Audited Auditor ClassMethods has_associated_audits":{"type":"method","name":"has_associated_audits","children":[],"call":[" has_many ","Audited  audit_class name ","Audited  audit_class ","Audit  name ","Audited  audit_model name ","Audited  audit_model "]}," Audited Auditor ClassMethods audited":{"type":"method","name":"audited","children":[],"call":[" auditing_enabled= "," include "," extend "," attr_accessor "," set_callback "," respond_to? "," lambda "," define_callbacks "," before_destroy ","options [] include? ","options [] ","options [] ! "," before_update "," after_create ","Audited  audit_class audited_class_names << "," to_s ","Audited  audit_class audited_class_names ","Audited  audit_class "," has_many ","Audited  audit_class name "," attr_accessible "," validates_presence_of "," audit_associated_with= "," non_audited_columns= "," Array collect "," Array "," default_ignored_attributes + ","Audited  ignored_attributes "," default_ignored_attributes "," column_names - ","options [] flatten map ","options [] flatten "," column_names "," class_attribute "," included_modules include? "," included_modules "," attr_protected "," accessible_attributes blank? "," accessible_attributes ","(pair\n  (sym :protect)\n  (send\n    (send nil :accessible_attributes) :blank?)) merge "," enable_auditing "," audited_options [] include? "," audited_options [] "," audited_options "," order "," validate "," normalize_audited_options "," audited_options= "," Array flatten map "," Array flatten ","on include? ","on empty? ","Audit  audited_class_names << ","Audit  audited_class_names ","Audit  name ","Audited  audit_model audited_class_names << ","Audited  audit_model audited_class_names ","Audited  audit_model "," after_touch "," ActiveRecord VERSION MAJOR  >= "," resp Array d_to? ","(pair\n  (sym :protect)\n  (send\n    (send nil :accessible_attributes) :blank?)) merge  [] include? ","opti Array s [] include? ","(pair\n  (sym :protect)\n  (send\n    (send nil :accessible_attributes) :blank?)) merge  [] ","opti Array s [] ","(pair\n  (sym :protect)\n  (send\n    (send nil :accessible_attributes) :blank?)) merge  [] ! ","opti Array s [] ! "," n Array _audited_columns= ","(pair\n  (sym :protect)\n  (send\n    (send nil :accessible_attributes) :blank?)) merge  [] flatten map ","opti Array s [] flatten map ","(pair\n  (sym :protect)\n  (send\n    (send nil :accessible_attributes) :blank?)) merge  [] flatten ","opti Array s [] flatten "," audited_(pair\n  (sym :protect)\n  (send\n    (send nil :accessible_attributes) :blank?)) merge  [] include? "," audited_opti Array s [] include? "," audited_(pair\n  (sym :protect)\n  (send\n    (send nil :accessible_attributes) :blank?)) merge  [] "," audited_opti Array s [] "," audited_(pair\n  (sym :protect)\n  (send\n    (send nil :accessible_attributes) :blank?)) merge  "," audited_opti Array s "," normalize_audited_(pair\n  (sym :protect)\n  (send\n    (send nil :accessible_attributes) :blank?)) merge  "," normalize_audited_opti Array s "," audited_(pair\n  (sym :protect)\n  (send\n    (send nil :accessible_attributes) :blank?)) merge = "," audited_opti Array s= "," Array  include? "," Array  empty? "]}," Audited Audit set_audit_user":{"type":"method","name":"set_audit_user","children":[],"call":[" user= ","Thread  current [] ","Thread  current "," Audited  store [] try! "," Audited  store [] "," Audited  store "," user "]}," Audited Audit set_version_number":{"type":"method","name":"set_version_number","children":[],"call":[" version= ","max + "," class where order first try "," class where order first "," class where order ","version desc "," class where "," auditable_type "," auditable_id "," class ","collection auditable_finder maximum ","collection auditable_finder "," class unscoped ","Rails VERSION MAJOR  == "," action == "," action "," class auditable_finder descending first try "," class auditable_finder descending first "," class auditable_finder descending "," class auditable_finder "," class auditable_finder maximum ","Rails VERSION MAJOR  >= ","ActiveRecord VERSION MAJOR  >= "," class  auditable_finder maximum "," class unscoped  auditable_finder maximum "," class  auditable_finder "," class unscoped  auditable_finder "]}," Audited Audit old_attributes":{"type":"method","name":"old_attributes","children":[],"call":["attrs []= "," Array first "," Array ","(or\n  (send nil :audited_changes)\n  (hash)) inject "," with_indifferent_access "," audited_changes ","values first "," action == "," action ","(or\n  (send nil :audited_changes)\n  (hash)) each_with_object "]}," Audited Audit new_attributes":{"type":"method","name":"new_attributes","children":[],"call":["attrs []= ","values last ","values is_a? ","(or\n  (send nil :audited_changes)\n  (hash)) inject "," with_indifferent_access "," audited_changes "," action == "," action ","(or\n  (send nil :audited_changes)\n  (hash)) each_with_object "]}," Audited Audit revision":{"type":"method","name":"revision","children":[],"call":[" class assign_revision_attributes "," class reconstruct_attributes merge "," version "," class reconstruct_attributes "," ancestors "," class ","(or\n  (send\n    (lvar :clazz) :find_by_id\n    (send nil :auditable_id))\n  (send\n    (lvar :clazz) :new)) tap ","clazz new ","clazz find_by_id "," auditable_id "," auditable_type constantize "," auditable_type ","(or\n  (send\n    (lvar : auditable_type constantize ) :find_by_id\n    (send nil :auditable_id))\n  (send\n    (lvar : auditable_type constantize ) :new)) tap "," auditable_type constantize  new "," auditable_type constantize  find_by_id "]}," Audited Audit ClassMethods assign_revision_attributes":{"type":"method","name":"assign_revision_attributes","children":[],"call":["record send ","record []= ","record attributes has_key? ","attr to_s ","record attributes ","record respond_to? ","record dup ","record frozen? ","attributes each ","record dup  send ","record dup  []= ","record dup  attributes has_key? ","record dup  attributes ","record dup  respond_to? ","record dup  dup ","record dup  frozen? "]}," Audited Audit ClassMethods reconstruct_attributes":{"type":"method","name":"reconstruct_attributes","children":[],"call":[" block_given? ","attributes merge! merge! ","audit version ","attributes merge! ","audit new_attributes ","audits collect "]}," Audited Audit ClassMethods as_user":{"type":"method","name":"as_user","children":[],"call":["Thread  current []= ","Thread  current "]}," Audited Audit ClassMethods audited_classes":{"type":"method","name":"audited_classes","children":[],"call":[" audited_class_names map "," audited_class_names "]}," Audited Audit ClassMethods setup_audit":{"type":"method","name":"setup_audit","children":[],"call":[" attr_accessible "," audited_class_names= ","Set  new "," cattr_accessor "," before_create "," belongs_to "]}," Audited Audit included":{"type":"method","name":"included","children":[],"call":[]}," Audited store":{"type":"method","name":"store","children":[],"call":["Thread  current [] ","Thread  current ","Thread  current thread_variable_set ","current_store_value nil? ","Thread  current thread_variable_get ","RequestStore  store [] ","RequestStore  store ","Audited RequestStore  audited_store ","Thread  current thread_variable_get  nil? "]}," name":{"type":"method","name":"name","children":[],"call":[]}," Audited Sweeper controller=":{"type":"method","name":"controller=","children":[],"call":[" Audited  store []= "," Audited  store "," store []= "," store "]}," Audited Sweeper controller":{"type":"method","name":"controller","children":[],"call":[" Audited  store [] "," Audited  store "," store [] "," store "]}," Audited Sweeper request_uuid":{"type":"method","name":"request_uuid","children":[],"call":[" controller try try "," controller try "," controller "]}," Audited RspecMatchers AssociatedAuditMatcher association_exists?":{"type":"method","name":"association_exists?","children":[],"call":[" reflection options [] == ","Audited  audit_class name ","Audited  audit_class "," reflection options [] "," reflection options "," reflection "," reflection macro == "," reflection macro "," reflection nil? ! "," reflection nil? ","Audit  name ","Audited  audit_model name ","Audited  audit_model "]}," Audited RspecMatchers AssociatedAuditMatcher reflection":{"type":"method","name":"reflection","children":[],"call":[" model_class reflect_on_association "," model_class "]}," Audited RspecMatchers AssociatedAuditMatcher model_class":{"type":"method","name":"model_class","children":[],"call":["@subject class "]}," Audited RspecMatchers AssociatedAuditMatcher description":{"type":"method","name":"description","children":[],"call":[]}," Audited RspecMatchers AssociatedAuditMatcher negative_failure_message":{"type":"method","name":"negative_failure_message","children":[],"call":[" model_class "]}," Audited RspecMatchers AssociatedAuditMatcher failure_message":{"type":"method","name":"failure_message","children":[],"call":[" model_class "]}," Audited RspecMatchers AssociatedAuditMatcher matches?":{"type":"method","name":"matches?","children":[],"call":[" association_exists? "]}," Audited RspecMatchers AuditMatcher comment_required_valid?":{"type":"method","name":"comment_required_valid?","children":[],"call":["@subject errors key? ","@subject errors ","@subject valid? == ","@subject valid? "," expects ","@subject audit_comment= ","@options [] "," destroy_callbacks_include_comment_required? "," validate_callbacks_include_presence_of_comment? "," model_class audited_options [] "," model_class audited_options "," model_class "]}," Audited RspecMatchers AuditMatcher records_changes_to_specified_fields?":{"type":"method","name":"records_changes_to_specified_fields?","children":[],"call":[" model_class non_audited_columns =~ "," model_class non_audited_columns "," model_class "," expects "," expect "," model_class non_audited_columns inspect ","@options [] collect ","@options [] "," model_class default_ignored_attributes + ","Audited  ignored_attributes "," model_class default_ignored_attributes "," model_class column_names - ","@options [] map "," model_class column_names "," model_class non_audited_columns to_set == ","ignored_fields to_set "," model_class non_audited_columns to_set "," build_ignored_fields_from_options "," build_ignored_fields_from_options  to_set "," build_ build_ignored_fields_from_options _from_options "]}," Audited RspecMatchers AuditMatcher associated_with_model?":{"type":"method","name":"associated_with_model?","children":[],"call":[" model_class audit_associated_with == ","@options [] "," model_class audit_associated_with "," model_class "," expects "]}," Audited RspecMatchers AuditMatcher model_class":{"type":"method","name":"model_class","children":[],"call":["@subject class "]}," Audited RspecMatchers AuditMatcher auditing_enabled?":{"type":"method","name":"auditing_enabled?","children":[],"call":[" model_class auditing_enabled "," model_class "," model_class respond_to? "," expects "]}," Audited RspecMatchers AuditMatcher expects":{"type":"method","name":"expects","children":[],"call":[]}," Audited RspecMatchers AuditMatcher description":{"type":"method","name":"description","children":[],"call":["@options key? ","@options [] join ","@options [] "]}," Audited RspecMatchers AuditMatcher negative_failure_message":{"type":"method","name":"negative_failure_message","children":[],"call":[]}," Audited RspecMatchers AuditMatcher failure_message":{"type":"method","name":"failure_message","children":[],"call":[]}," Audited RspecMatchers AuditMatcher matches?":{"type":"method","name":"matches?","children":[],"call":[" comment_required_valid? "," records_changes_to_specified_fields? "," associated_with_model? "," auditing_enabled? "," required_checks_for_options_satisfied? "]}," Audited RspecMatchers AuditMatcher on":{"type":"method","name":"on","children":[],"call":["@options []= ","actions flatten ","actions flatten map "]}," Audited RspecMatchers AuditMatcher requires_comment":{"type":"method","name":"requires_comment","children":[],"call":["@options []= "]}," Audited RspecMatchers AuditMatcher except":{"type":"method","name":"except","children":[],"call":["@options []= ","fields flatten ","fields flatten map "]}," Audited RspecMatchers AuditMatcher only":{"type":"method","name":"only","children":[],"call":["@options []= ","fields flatten ","fields flatten map "]}," Audited RspecMatchers AuditMatcher associated_with":{"type":"method","name":"associated_with","children":[],"call":["@options []= "]}," Audited RspecMatchers AuditMatcher initialize":{"type":"method","name":"initialize","children":[],"call":[]}," Audited RspecMatchers have_associated_audits":{"type":"method","name":"have_associated_audits","children":[],"call":["AssociatedAuditMatcher  new "]}," Audited RspecMatchers be_audited":{"type":"method","name":"be_audited","children":[],"call":["AuditMatcher  new "]}," Audited Audit set_request_uuid":{"type":"method","name":"set_request_uuid","children":[],"call":["SecureRandom  uuid "," request_uuid "," Audited  store [] "," Audited  store "]}," Audited Generators UpgradeGenerator migrations_to_be_applied":{"type":"method","name":"migrations_to_be_applied","children":[],"call":["i columns == ","i columns ","indexes any? ","columns include? ","Audited Audit  connection indexes ","Audited Audit  table_name ","Audited Audit  connection ","Audited Audit  columns map ","Audited Audit  columns ","Audited Audit  reset_column_information ","i Audited Audit  columns map  == ","i Audited Audit  columns map  ","Audited Audit  connection indexes  any? ","Audited Audit  columns map  include? ","Audited Audit  connection Audited Audit  connection indexes  ","Audited Audit  Audited Audit  columns map  map ","Audited Audit  Audited Audit  columns map  "]}," Audited Generators UpgradeGenerator copy_templates":{"type":"method","name":"copy_templates","children":[],"call":[" migration_template "," migrations_to_be_applied "]}," Audited Generators MigrationHelper migration_parent":{"type":"method","name":"migration_parent","children":[],"call":["ActiveRecord Migration  current_version ","Rails VERSION MAJOR  == "]}," Audited Generators Migration next_migration_number":{"type":"method","name":"next_migration_number","children":[],"call":["%.3d % ","(send\n  (send\n    (send\n      (const nil :Time) :now) :utc) :strftime\n  (str \"%Y%m%d%H%M%S\")) max ","%.14d % ","Time  now utc strftime ","Time  now utc ","Time  now "," ActiveRecord Base  timestamped_migrations "," current_migration_number + "," current_migration_number "," timestamped_migrations? "]}," Audited Generators InstallGenerator copy_migration":{"type":"method","name":"copy_migration","children":[],"call":[" migration_template "]}," Audited config":{"type":"method","name":"config","children":[],"call":[]}," Audited audit_class":{"type":"method","name":"audit_class","children":[],"call":["@audit_class safe_constantize ","@audit_class is_a? ","@audit_class safe_constantize  safe_constantize ","@audit_class safe_constantize  is_a? "]}," Audited Sweeper remote_ip":{"type":"method","name":"remote_ip","children":[],"call":[" controller try try "," controller try "," controller "]}," Audited Sweeper around":{"type":"method","name":"around","children":[],"call":[" store delete "," store ","STORED_DATA  keys each ","STORED_DATA  keys "," controller= "," store []= "," send ","STORED_DATA  each "]}," Audited RspecMatchers AuditMatcher required_checks_for_options_satisfied?":{"type":"method","name":"required_checks_for_options_satisfied?","children":[],"call":["(send\n  (hash\n    (pair\n      (sym :only)\n      (sym :records_changes_to_specified_fields?))\n    (pair\n      (sym :except)\n      (sym :records_changes_to_specified_fields?))\n    (pair\n      (sym :comment_required)\n      (sym :comment_required_valid?))\n    (pair\n      (sym :associated_with)\n      (sym :associated_with_model?))\n    (pair\n      (sym :on)\n      (sym :only_audit_on_designated_callbacks?))) :map) compact all? ","(send\n  (hash\n    (pair\n      (sym :only)\n      (sym :records_changes_to_specified_fields?))\n    (pair\n      (sym :except)\n      (sym :records_changes_to_specified_fields?))\n    (pair\n      (sym :comment_required)\n      (sym :comment_required_valid?))\n    (pair\n      (sym :associated_with)\n      (sym :associated_with_model?))\n    (pair\n      (sym :on)\n      (sym :only_audit_on_designated_callbacks?))) :map) compact "," send ","@options [] present? ","@options [] ","(pair\n  (sym :only)\n  (sym :records_changes_to_specified_fields?)) map "]}," Audited RspecMatchers AuditMatcher build_ignored_fields_from_options":{"type":"method","name":"build_ignored_fields_from_options","children":[],"call":["default_ignored_attributes | ","@options [] ","@options [] present? ","(send\n  (lvar :default_ignored_attributes) :|\n  (send\n    (send nil :model_class) :column_names)) - "," model_class column_names "," model_class "," model_class default_ignored_attributes "," model_class default_ignored_attributes  | ","(send\n  (lvar : model_class default_ignored_attributes ) :|\n  (send\n    (send nil :model_class) :column_names)) - "," model_class  model_class default_ignored_attributes  "]}," Audited RspecMatchers AuditMatcher callbacks_for":{"type":"method","name":"callbacks_for","children":[],"call":["(send\n  (send\n    (send nil :model_class) :send\n    (dstr\n      (str \"_\")\n      (begin\n        (lvar :action))\n      (str \"_callbacks\"))) :select) map ","cb kind == ","cb kind "," model_class send select "," model_class send "," model_class "]}," Audited RspecMatchers AuditMatcher requires_comment_before_callbacks?":{"type":"method","name":"requires_comment_before_callbacks?","children":[],"call":["(send\n  (array\n    (sym :create)\n    (sym :update)\n    (sym :destroy)) :map) compact all? ","(send\n  (array\n    (sym :create)\n    (sym :update)\n    (sym :destroy)) :map) compact "," callbacks_for include? "," callbacks_for "," model_class audited_options [] include? "," model_class audited_options [] "," model_class audited_options "," model_class ","@options [] ","(sym :create) map "]}," Audited RspecMatchers AuditMatcher destroy_callbacks_include_comment_required?":{"type":"method","name":"destroy_callbacks_include_comment_required?","children":[],"call":[" callbacks_for include? "," callbacks_for "," model_class audited_options [] include? "," model_class audited_options [] "," model_class audited_options "," model_class ","@options [] "]}," Audited RspecMatchers AuditMatcher audited_on_create_or_update?":{"type":"method","name":"audited_on_create_or_update?","children":[],"call":[" model_class audited_options [] include? "," model_class audited_options [] "," model_class audited_options "," model_class "]}," Audited RspecMatchers AuditMatcher validate_callbacks_include_presence_of_comment?":{"type":"method","name":"validate_callbacks_include_presence_of_comment?","children":[],"call":[" callbacks_for include? "," callbacks_for "," audited_on_create_or_update? ","@options [] "]}," Audited RspecMatchers AuditMatcher only_audit_on_designated_callbacks?":{"type":"method","name":"only_audit_on_designated_callbacks?","children":[],"call":["(send\n  (hash\n    (pair\n      (sym :create)\n      (array\n        (sym :after)\n        (sym :audit_create)))\n    (pair\n      (sym :update)\n      (array\n        (sym :before)\n        (sym :audit_update)))\n    (pair\n      (sym :destroy)\n      (array\n        (sym :before)\n        (sym :audit_destroy)))) :map) compact all? ","(send\n  (hash\n    (pair\n      (sym :create)\n      (array\n        (sym :after)\n        (sym :audit_create)))\n    (pair\n      (sym :update)\n      (array\n        (sym :before)\n        (sym :audit_update)))\n    (pair\n      (sym :destroy)\n      (array\n        (sym :before)\n        (sym :audit_destroy)))) :map) compact "," callbacks_for include? "," callbacks_for ","@options [] include? ","@options [] ","(pair\n  (sym :create)\n  (array\n    (sym :after)\n    (sym :audit_create))) map "]}," Audited Auditor AuditedClassMethods calculate_non_audited_columns":{"type":"method","name":"calculate_non_audited_columns","children":[],"call":[" default_ignored_attributes "," default_ignored_attributes | "," audited_options [] "," audited_options "," audited_options [] present? ","(send\n  (send nil :column_names) :|\n  (send nil :default_ignored_attributes)) - "," column_names | "," column_names "]}," Audited Auditor AuditedClassMethods normalize_audited_options":{"type":"method","name":"normalize_audited_options","children":[],"call":[" audited_options []= "," Integer abs "," Integer "," audited_options ","Audited  max_audits "," audited_options [] ","Array  wrap map ","Array  wrap "," audited_options [] empty? "]}," Audited Auditor AuditedClassMethods default_ignored_attributes":{"type":"method","name":"default_ignored_attributes","children":[],"call":["(send nil :primary_key) | ","Audited  ignored_attributes "," inheritance_column "," primary_key ","(send nil :primary_key) + "]}," Audited Auditor AuditedClassMethods auditing_enabled=":{"type":"method","name":"auditing_enabled=","children":[],"call":["Audited  store []= "," table_name ","Audited  store "," name tableize "," name "]}," Audited Auditor AuditedClassMethods auditing_enabled":{"type":"method","name":"auditing_enabled","children":[],"call":["Audited  auditing_enabled ","Audited  store fetch "," table_name ","Audited  store "," name tableize "," name "," class_auditing_enabled "]}," Audited Auditor AuditedClassMethods with_auditing":{"type":"method","name":"with_auditing","children":[],"call":[" disable_auditing "," enable_auditing "," auditing_enabled "," class_auditing_enabled "]}," Audited Auditor AuditedClassMethods non_audited_columns=":{"type":"method","name":"non_audited_columns=","children":[],"call":["columns map "]}," Audited Auditor AuditedClassMethods non_audited_columns":{"type":"method","name":"non_audited_columns","children":[],"call":[" calculate_non_audited_columns "," Array collect "," Array ","options [] "," default_ignored_attributes + ","Audited  ignored_attributes "," default_ignored_attributes "," column_names - ","Array  wrap flatten map ","Array  wrap flatten ","Array  wrap "," column_names "," audited_options "," default_ignored_attributes | "," audited_options [] "," audited_options [] present? "," audited_options  [] "," audited_ audited_options  "," audited_ audited_options  [] "," audited_ audited_options  [] present? "]}," Audited Auditor AuditedInstanceMethods reconstruct_attributes":{"type":"method","name":"reconstruct_attributes","children":[],"call":["attributes merge! ","audit new_attributes ","audits each "]}," Audited Auditor AuditedInstanceMethods run_conditional_check":{"type":"method","name":"run_conditional_check","children":[],"call":[" send == "," send "," respond_to? ","condition to_sym ","condition call == ","condition call ","condition respond_to? ","condition blank? "]}," Audited Auditor AuditedInstanceMethods auditing_enabled":{"type":"method","name":"auditing_enabled","children":[],"call":[" class auditing_enabled "," class "," run_conditional_check "," audited_options [] "," audited_options "]}," Audited Auditor AuditedInstanceMethods combine_audits_if_needed":{"type":"method","name":"combine_audits_if_needed","children":[],"call":[" combine_audits "," audits limit ","extra_count + "," audits ","(lvasgn :extra_count\n  (send\n    (send\n      (send nil :audits) :count) :-\n    (lvar :max_audits))) > "," audits count - "," audits count "," audited_options [] "," audited_options "," audits count -  + ","(lvasgn : audits count - \n  (send\n    (send\n      (send nil :audits) :count) :-\n    (lvar :max_audits))) > ","(lvasgn :extra_count\n  (send\n    (send\n      (send nil :audits) :count) :-\n    (lvar : audited_options [] ))) > "]}," Audited Auditor AuditedInstanceMethods comment_required_state?":{"type":"method","name":"comment_required_state?","children":[],"call":[" changed? "," persisted? "," audited_options [] include? "," audited_options [] "," audited_options "," new_record? "," auditing_enabled "," audited_changes present? "," audited_changes "]}," Audited Auditor AuditedInstanceMethods presence_of_audit_comment":{"type":"method","name":"presence_of_audit_comment","children":[],"call":[" errors add "," errors "," audit_comment present? "," audit_comment "," comment_required_state? "]}," Audited Auditor AuditedInstanceMethods rails_below?":{"type":"method","name":"rails_below?","children":[],"call":["Gem Version  new < ","Gem Version  new "]}," Audited Auditor AuditedInstanceMethods redact_values":{"type":"method","name":"redact_values","children":[],"call":["filtered_changes merge! ","Hash  [] ","option to_s ","changes map ","changes is_a? "," audited_options [] "," audited_options ","filtered_changes [] ","(send\n  (send nil :audited_options) :[]\n  (sym :redacted)) flatten compact each ","(send\n  (send nil :audited_options) :[]\n  (sym :redacted)) flatten compact ","(send\n  (send nil :audited_options) :[]\n  (sym :redacted)) flatten "," filter_attr_values "," Array map "," Array ","filtered_filtered_changes []  merge! ","filtered_changes []  map ","filtered_changes []  is_a? ","filtered_filtered_changes []  [] "]}," Audited Auditor AuditedInstanceMethods normalize_enum_changes":{"type":"method","name":"normalize_enum_changes","children":[],"call":["changes []= ","values [] ","changes [] "," rails_below? ","changes [] map ","changes [] is_a? ","changes has_key? "," class defined_enums each "," class defined_enums "," class ","Audited  store_synthesized_enums "]}," Audited Auditor AuditedInstanceMethods combine_audits":{"type":"method","name":"combine_audits","children":[],"call":["audits_to_combine unscope where delete_all ","audits_to_combine unscope where ","combine_target version ","audits_to_combine unscope ","combine_target save! "," transaction ","combine_target comment= ","combine_target comment ","combine_target audited_changes= ","audits_to_combine pluck reduce ","audits_to_combine pluck ","audits_to_combine last ","audits_to_combine last  version ","audits_to_combine last  save! ","audits_to_combine last  comment= ","audits_to_combine last  comment ","audits_to_combine last  audited_changes= "]}," Audited Auditor AuditedInstanceMethods own_and_associated_audits":{"type":"method","name":"own_and_associated_audits","children":[],"call":["Audited  audit_class unscoped where order ","Audited  audit_class unscoped where "," id "," class name "," class ","Audited  audit_class unscoped ","Audited  audit_class "," class base_class name "," class base_class ","Audited  audit_model unscoped where or order ","Audited  audit_model unscoped where or ","Audited  audit_model unscoped where ","Audited  audit_model unscoped ","Audited  audit_model ","Audited  audit_class unscoped where or order ","Audited  audit_class unscoped where or "]}," Audited Auditor AuditedInstanceMethods with_auditing":{"type":"method","name":"with_auditing","children":[],"call":[" class with_auditing "," class "]}," Audited Auditor AuditedInstanceMethods save_with_auditing":{"type":"method","name":"save_with_auditing","children":[],"call":[" save "," with_auditing "]}," Audited Audit set_remote_address":{"type":"method","name":"set_remote_address","children":[],"call":[" Audited  store [] "," Audited  store "," remote_address "]}," Audited Audit collection_cache_key":{"type":"method","name":"collection_cache_key","children":[],"call":[" all "]}," Audited Audit assign_revision_attributes":{"type":"method","name":"assign_revision_attributes","children":[],"call":[]}," Audited Audit reconstruct_attributes":{"type":"method","name":"reconstruct_attributes","children":[],"call":[]}," Audited Audit as_user":{"type":"method","name":"as_user","children":[],"call":[]}," Audited Audit audited_classes":{"type":"method","name":"audited_classes","children":[],"call":[]}," Audited Audit user_as_string":{"type":"method","name":"user_as_string","children":[],"call":[" username "," user_as_model "]}," Audited Audit user_as_string=":{"type":"method","name":"user_as_string=","children":[],"call":[" username= "," user_as_model= ","user is_a? "]}," Audited Audit undo":{"type":"method","name":"undo","children":[],"call":[" raise "," action "," auditable update! "," audited_changes transform_values "," audited_changes "," auditable "," auditable_type constantize create! "," auditable_type constantize "," auditable_type "," auditable destroy! ","audited_object save ","audited_object []= ","v [] "," audited_changes each ","model find "," auditable_id ","model create "," action == ","model find destroy! "," auditable update_attributes! ","model find  save ","model find  []= "," auditable_type constantize  find "," auditable_type constantize  create "," auditable_type constantize  find destroy! "]}," Audited Audit ancestors":{"type":"method","name":"ancestors","children":[],"call":[" class ascending auditable_finder to_version "," version "," class ascending auditable_finder "," auditable_type "," auditable_id "," class ascending "," class "]}," Audited YAMLIfTextColumnType text_column?":{"type":"method","name":"text_column?","children":[],"call":["Audited  audit_class columns_hash [] type to_s == ","Audited  audit_class columns_hash [] type to_s ","Audited  audit_class columns_hash [] type ","Audited  audit_class columns_hash [] ","Audited  audit_class columns_hash ","Audited  audit_class ","Audited  audit_model columns_hash [] type to_s == ","Audited  audit_model columns_hash [] type to_s ","Audited  audit_model columns_hash [] type ","Audited  audit_model columns_hash [] ","Audited  audit_model columns_hash ","Audited  audit_model "]}," Audited YAMLIfTextColumnType dump":{"type":"method","name":"dump","children":[],"call":["ActiveRecord Coders YAMLColumn  new dump ","ActiveRecord Coders YAMLColumn  new "," text_column? ","Audited  audit_class columns_hash [] sql_type == ","Audited  audit_class columns_hash [] sql_type ","Audited  audit_class columns_hash [] ","Audited  audit_class columns_hash ","Audited  audit_class ","Audited  audit_class columns_hash [] type to_s == ","Audited  audit_class columns_hash [] type to_s ","Audited  audit_class columns_hash [] type "]}," Audited YAMLIfTextColumnType load":{"type":"method","name":"load","children":[],"call":["ActiveRecord Coders YAMLColumn  new load ","ActiveRecord Coders YAMLColumn  new "," text_column? ","Audited  audit_class columns_hash [] sql_type == ","Audited  audit_class columns_hash [] sql_type ","Audited  audit_class columns_hash [] ","Audited  audit_class columns_hash ","Audited  audit_class ","Audited  audit_class columns_hash [] type to_s == ","Audited  audit_class columns_hash [] type to_s ","Audited  audit_class columns_hash [] type "]}," Audited Auditor AuditedInstanceMethods auditing_enabled=":{"type":"method","name":"auditing_enabled=","children":[],"call":[" class auditing_enabled= "," class "]}," Audited Auditor AuditedInstanceMethods non_audited_columns":{"type":"method","name":"non_audited_columns","children":[],"call":[" class non_audited_columns "," class "]}," Audited Auditor ClassMethods default_ignored_attributes":{"type":"method","name":"default_ignored_attributes","children":[],"call":[" inheritance_column "," primary_key "]}," Audited Auditor AuditedInstanceMethods audited_columns":{"type":"method","name":"audited_columns","children":[],"call":[" class audited_columns "," class "]}," Audited Auditor AuditedInstanceMethods method_missing":{"type":"method","name":"method_missing","children":[],"call":[" audit_version ","ActiveSupport Deprecation  warn ","method_name == "]}," Audited Generators Migration timestamped_migrations?":{"type":"method","name":"timestamped_migrations?","children":[],"call":[" ActiveRecord Base  timestamped_migrations "," ActiveRecord  timestamped_migrations ","Rails  version >= ","Rails  version "]}," Audited audit_model":{"type":"method","name":"audit_model","children":[],"call":[" audit_class constantize "," audit_class "]}," Audited Auditor AuditedClassMethods class_auditing_enabled":{"type":"method","name":"class_auditing_enabled","children":[],"call":["Audited  store fetch "," table_name ","Audited  store "]}," Audited Auditor AuditedInstanceMethods filter_attr_values":{"type":"method","name":"filter_attr_values","children":[],"call":["audited_changes []= ","changes map ","changes is_a? ","audited_changes [] ","audited_changes key? ","attrs each ","audited_audited_changes []  []= ","audited_changes []  map ","audited_changes []  is_a? ","audited_audited_changes []  [] ","audited_audited_changes []  key? "]}," Audited Auditor AuditedInstanceMethods filter_encrypted_attrs":{"type":"method","name":"filter_encrypted_attrs","children":[],"call":[" filter_attr_values "," Array map "," Array "," encrypted_attributes "," respond_to? "]}," Audited Auditor AuditedInstanceMethods audit_touch":{"type":"method","name":"audit_touch","children":[],"call":[" write_audit "," audit_comment ","(lvasgn :changes\n  (send nil :audited_changes\n    (hash\n      (pair\n        (sym :for_touch)\n        (true))))) empty? "," audited_changes ","(lvasgn : audited_changes \n  (send nil :audited_ audited_changes \n    (hash\n      (pair\n        (sym :for_touch)\n        (true))))) empty? "," audited_ audited_changes  "]}}