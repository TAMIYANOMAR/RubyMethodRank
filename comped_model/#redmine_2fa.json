{" Redmine2FA Configuration sms_command":{"type":"method","name":"sms_command","children":[],"call":[]}," Redmine2FA Configuration configuration":{"type":"method","name":"configuration","children":[],"call":[]}," Redmine2FA logger":{"type":"method","name":"logger","children":[],"call":[]}," Redmine2FA bot_token":{"type":"method","name":"bot_token","children":[],"call":[]}," Redmine2FA switched_off?":{"type":"method","name":"switched_off?","children":[],"call":[]}," Redmine2FA switched_on?":{"type":"method","name":"switched_on?","children":[],"call":[]}," Redmine2FA active_protocols":{"type":"method","name":"active_protocols","children":[],"call":[]}," Redmine2FA set_locale":{"type":"method","name":"set_locale","children":[],"call":[]}," Redmine2FA table_name_prefix":{"type":"method","name":"table_name_prefix","children":[],"call":[]}," Redmine2FA Patches UserPatch InstanceMethods confirm_mobile_phone":{"type":"method","name":"confirm_mobile_phone","children":[],"call":[" errors [] << ","I18n  t "," errors [] "," errors "," save! "," mobile_phone_confirmed= "," authenticate_otp "," mobile_phone present? "," mobile_phone "]}," Redmine2FA Patches UserPatch InstanceMethods reset_second_auth":{"type":"method","name":"reset_second_auth","children":[],"call":[" save! "," ignore_2fa= "," two_fa_id= "," otp_regenerate_secret "," telegram_connection "," class transaction "," class "]}," Redmine2FA Patches UserPatch InstanceMethods google_authenticable?":{"type":"method","name":"google_authenticable?","children":[],"call":["(send nil :two_fa) == "," two_fa "]}," Redmine2FA Patches UserPatch InstanceMethods telegram_authenticable?":{"type":"method","name":"telegram_authenticable?","children":[],"call":["(send nil :two_fa) == "," two_fa "]}," Redmine2FA Patches UserPatch InstanceMethods sms_authenticable?":{"type":"method","name":"sms_authenticable?","children":[],"call":["(send nil :two_fa) == "," two_fa "]}," Redmine2FA Patches UserPatch InstanceMethods two_factor_authenticable?":{"type":"method","name":"two_factor_authenticable?","children":[],"call":[" two_fa "]}," Redmine2FA Patches UserPatch InstanceMethods update_hashed_password_with_otp_auth":{"type":"method","name":"update_hashed_password_with_otp_auth","children":[],"call":[" update_hashed_password_without_otp_auth "," salt_password "," password "," two_factor_authenticable? "]}," Redmine2FA Patches UserPatch included":{"type":"method","name":"included","children":[],"call":[]}," Redmine2FA Patches AccountControllerPatch SecondAuthenticationStep sender":{"type":"method","name":"sender","children":[],"call":["Redmine2FA CodeSender  new "]}," Redmine2FA Patches AccountControllerPatch SecondAuthenticationStep send_code":{"type":"method","name":"send_code","children":[],"call":[" sender send_code "," sender "]}," Redmine2FA Patches AccountControllerPatch SecondAuthenticationStep password_authentication":{"type":"method","name":"password_authentication","children":[],"call":[" render "," flash []= "," sender errors join "," sender errors "," sender "," flash "," sender errors present? "," send_code ","@user two_factor_authenticable? ","@user ignore_2fa? ! ","@user ignore_2fa? ","Redmine2FA  switched_on? ","(send\n  (ivar :@user) :two_fa) == ","@user two_fa ","@user locked? ! ","@user locked? "]}," Redmine2FA Patches AccountControllerPatch SecondAuthenticationPrepare set_otp_session":{"type":"method","name":"set_otp_session","children":[],"call":[" session []= ","@user id "," session "," params [] "," params "]}," Redmine2FA Patches AccountControllerPatch SecondAuthenticationPrepare password_authentication":{"type":"method","name":"password_authentication","children":[],"call":[" set_otp_session "," onthefly_creation_failed ","@user auth_source_id ","@user login ","@user new_record? "," invalid_credentials ","@user nil? ","User  try_to_login "," params [] "," params ","User  try_to_login  auth_source_id ","User  try_to_login  login ","User  try_to_login  new_record? ","User  try_to_login  nil? "]}," Redmine2FA Patches AccountControllerPatch SecondAuthenticationInit password_authentication":{"type":"method","name":"password_authentication","children":[],"call":[" render ","RQRCode QRCode  new ","@user provisioning_uri ","Setting  host_name ","@user login ","@user two_factor_authenticable? ","@user ignore_2fa? ","Redmine2FA  switched_off? "," raise ","(op-asgn\n  (lvasgn :qr_size) :+\n  (int 1)) > ","@user locked? "]}," Redmine2FA Patches AccountControllerPatch ConfirmMethods InstanceMethods increment_failed_attempts":{"type":"method","name":"increment_failed_attempts","children":[],"call":[" session [] "," session "]}," Redmine2FA Patches AccountControllerPatch ConfirmMethods InstanceMethods reset_otp_session":{"type":"method","name":"reset_otp_session","children":[],"call":[" session delete "," session "," params []= "," session [] "," params "]}," Redmine2FA Patches AccountControllerPatch ConfirmMethods InstanceMethods sender":{"type":"method","name":"sender","children":[],"call":["Redmine2FA CodeSender  new "]}," Redmine2FA Patches AccountControllerPatch ConfirmMethods InstanceMethods send_code":{"type":"method","name":"send_code","children":[],"call":[" sender send_code "," sender "]}," Redmine2FA Patches AccountControllerPatch ConfirmMethods InstanceMethods protocol":{"type":"method","name":"protocol","children":[],"call":[" params [] "," params "]}," Redmine2FA Patches AccountControllerPatch ConfirmMethods InstanceMethods auth_source_class":{"type":"method","name":"auth_source_class","children":[],"call":["(pair\n  (str \"sms\")\n  (str \"SMS\")) [] "," protocol "]}," Redmine2FA Patches AccountControllerPatch ConfirmMethods InstanceMethods two_fa":{"type":"method","name":"two_fa","children":[],"call":["(str \"Redmine2FA::AuthSource::\") constantize first ","(str \"Redmine2FA::AuthSource::\") constantize "," auth_source_class ","Redmine2FA  active_protocols include? "," protocol ","Redmine2FA  active_protocols "]}," Redmine2FA Patches AccountControllerPatch ConfirmMethods InstanceMethods update_two_fa":{"type":"method","name":"update_two_fa","children":[],"call":["@user update_columns "," two_fa id "," two_fa "]}," Redmine2FA Patches AccountControllerPatch ConfirmMethods InstanceMethods set_user_from_session":{"type":"method","name":"set_user_from_session","children":[],"call":[" deny_access ","User  find "," session [] "," session "]}," Redmine2FA Patches AccountControllerPatch ConfirmMethods InstanceMethods confirm_otp":{"type":"method","name":"confirm_otp","children":[],"call":[" render "," flash []= "," t "," flash "," send_code "," session [] >= "," session [] "," session "," increment_failed_attempts "," successful_authentication "," reset_otp_session ","@user authenticate_otp "," params [] "," params "," update_two_fa ","@user two_fa nil? ","@user two_fa "]}," Redmine2FA Patches AccountControllerPatch ConfirmMethods InstanceMethods confirm_2fa":{"type":"method","name":"confirm_2fa","children":[],"call":[" render ","Redmine2FA CodeSender  new send_code ","Redmine2FA CodeSender  new "," update_two_fa "," successful_authentication "," reset_otp_session ","@user update! "," protocol == "," protocol "]}," Redmine2FA Patches AccountControllerPatch ConfirmMethods included":{"type":"method","name":"included","children":[],"call":[]}," Redmine2FA CodeSender timestamp":{"type":"method","name":"timestamp","children":[],"call":["2 minutes from_now strftime ","2 minutes from_now ","2 minutes ","Time  zone= "," user time_zone "," user ","Time  use_zone "]}," Redmine2FA CodeSender code":{"type":"method","name":"code","children":[],"call":[" user otp_code "," user "]}," Redmine2FA CodeSender define_sender":{"type":"method","name":"define_sender","children":[],"call":["CodeSender NullSender  new ","CodeSender SMSSender  new "," user ","CodeSender TelegramSender  new "]}," Redmine2FA CodeSender send_code":{"type":"method","name":"send_code","children":[],"call":[" errors concat "," sender errors "," sender "," errors "," sender errors present? "," sender send_message "]}," Redmine2FA CodeSender initialize":{"type":"method","name":"initialize","children":[],"call":[" define_sender "]}," Redmine2FA TelegramSender send_message":{"type":"method","name":"send_message","children":[],"call":[" errors << ","e message "," errors ","bot api send_message ","@telegram_account telegram_id ","bot api ","I18n  t "," timestamp "," code ","Setting  app_title ","Telegram Bot Client  new ","Redmine2FA  bot_token ","@telegram_account active? ","@telegram_account present? ","e I18n  t  ","bot api send_I18n  t  ","Telegram Bot Client  new  api send_message ","Telegram Bot Client  new  api ","Redmine2FA  Telegram Bot Client  new _token ","Redmine2FA  bot_Redmine2FA  bot_token  "]}," Redmine2FA TelegramSender initialize":{"type":"method","name":"initialize","children":[],"call":["user telegram_account "]}," Redmine2FA SMSSender send_message":{"type":"method","name":"send_message","children":[],"call":[" errors << "," errors ","Process  kill ","Process  wait ","Timeout  timeout ","Process  spawn ","command sub sub sub "," timestamp ","command sub sub "," code ","command sub ","Redmine2FA Configuration  sms_command ","@user mobile_phone ","command sub sub sub  sub sub sub ","Redmine2FA Configuration  sms_command  sub sub sub ","command sub sub sub  sub sub ","Redmine2FA Configuration  sms_command  sub sub ","command sub sub sub  sub ","Redmine2FA Configuration  sms_command  sub ","Redmine2FA Configuration  sms_command sub sub sub  ","Redmine2FA Configuration  sms_Redmine2FA Configuration  sms_command  ","@user mobile_@user mobile_phone  "]}," Redmine2FA SMSSender initialize":{"type":"method","name":"initialize","children":[],"call":[]}," Redmine2FA NullSender send_message":{"type":"method","name":"send_message","children":[],"call":[]}," Redmine2FA NullSender initialize":{"type":"method","name":"initialize","children":[],"call":[]}," Redmine2FA handle_message":{"type":"method","name":"handle_message","children":[],"call":[]}," Redmine2FA Patches UserPatch InstanceMethods update_hashed_password":{"type":"method","name":"update_hashed_password","children":[],"call":[" salt_password "," password "," two_factor_authenticable? "]}," RedmineTwoFa Configuration sms_command":{"type":"method","name":"sms_command","children":[],"call":[]}," RedmineTwoFa Configuration configuration":{"type":"method","name":"configuration","children":[],"call":[]}," RedmineTwoFa logger":{"type":"method","name":"logger","children":[],"call":[]}," RedmineTwoFa switched_off?":{"type":"method","name":"switched_off?","children":[],"call":[]}," RedmineTwoFa switched_on?":{"type":"method","name":"switched_on?","children":[],"call":[]}," RedmineTwoFa active_protocols":{"type":"method","name":"active_protocols","children":[],"call":[]}," RedmineTwoFa set_locale":{"type":"method","name":"set_locale","children":[],"call":[]}," RedmineTwoFa table_name_prefix":{"type":"method","name":"table_name_prefix","children":[],"call":[]}," RedmineTwoFa Protocols resolve":{"type":"method","name":"resolve","children":[],"call":[]}," Protocols Telegram initial_partial":{"type":"method","name":"initial_partial","children":[],"call":[]}," Protocols Telegram second_step_partial":{"type":"method","name":"second_step_partial","children":[],"call":[]}," Protocols Telegram id":{"type":"method","name":"id","children":[],"call":[]}," Protocols Sms initial_partial":{"type":"method","name":"initial_partial","children":[],"call":[]}," Protocols Sms resendable?":{"type":"method","name":"resendable?","children":[],"call":[]}," Protocols Sms send_code":{"type":"method","name":"send_code","children":[],"call":["Process  kill ","Process  wait ","Timeout  timeout ","Process  spawn ","command sub sub sub ","command sub sub ","user otp_code ","command sub ","RedmineTwoFa Configuration  sms_command ","2 minutes from_now strftime ","2 minutes from_now ","2 minutes ","Time  use_zone ","user time_zone ","user mobile_phone ","command sub sub sub  sub sub sub ","RedmineTwoFa Configuration  sms_command  sub sub sub ","command sub sub sub  sub sub ","RedmineTwoFa Configuration  sms_command  sub sub ","command sub sub sub  sub ","RedmineTwoFa Configuration  sms_command  sub ","RedmineTwoFa Configuration  sms_command sub sub sub  ","RedmineTwoFa Configuration  sms_RedmineTwoFa Configuration  sms_command  ","user mobile_user mobile_phone  "]}," Protocols None bypass?":{"type":"method","name":"bypass?","children":[],"call":[]}," Protocols GoogleAuth initial_partial":{"type":"method","name":"initial_partial","children":[],"call":[]}," Protocols GoogleAuth generate_qr":{"type":"method","name":"generate_qr","children":[],"call":[" raise ","(op-asgn\n  (lvasgn :qr_size) :+\n  (int 1)) > ","RQRCode QRCode  new ","user provisioning_uri ","Setting  host_name ","user login "]}," Protocols BaseProtocol resendable?":{"type":"method","name":"resendable?","children":[],"call":[]}," Protocols BaseProtocol bypass?":{"type":"method","name":"bypass?","children":[],"call":[]}," Protocols BaseProtocol send_code":{"type":"method","name":"send_code","children":[],"call":[]}," Protocols BaseProtocol initial_partial":{"type":"method","name":"initial_partial","children":[],"call":[" raise "]}," Protocols BaseProtocol second_step_partial":{"type":"method","name":"second_step_partial","children":[],"call":[]}," RedmineTwoFa Patches UserPatch InstanceMethods confirm_mobile_phone":{"type":"method","name":"confirm_mobile_phone","children":[],"call":[" errors [] << ","I18n  t "," errors [] "," errors "," save! "," mobile_phone_confirmed= "," authenticate_otp "," mobile_phone present? "," mobile_phone "]}," RedmineTwoFa Patches UserPatch InstanceMethods reset_second_auth":{"type":"method","name":"reset_second_auth","children":[],"call":[" save! "," ignore_2fa= "," two_fa= "," telegram_connection "," class transaction "," class "," otp_regenerate_secret "]}," RedmineTwoFa Patches UserPatch InstanceMethods two_fa_protocol":{"type":"method","name":"two_fa_protocol","children":[],"call":["RedmineTwoFa Protocols  [] "," two_fa "]}," RedmineTwoFa Patches UserPatch InstanceMethods two_factor_authenticable?":{"type":"method","name":"two_factor_authenticable?","children":[],"call":[" two_fa present? "," two_fa "]}," RedmineTwoFa Patches UserPatch InstanceMethods update_hashed_password":{"type":"method","name":"update_hashed_password","children":[],"call":[" salt_password "," password "," two_factor_authenticable? "]}," RedmineTwoFa Patches UserPatch included":{"type":"method","name":"included","children":[],"call":[]}," TwoFaApplicationControllerPatch find_current_user":{"type":"method","name":"find_current_user","children":[],"call":[" accept_api_auth? ","Setting  plugin_redmine_2fa [] ","Setting  plugin_redmine_2fa ","Setting  rest_api_enabled? "," api_key_from_request present? "," api_key_from_request "," api_request? "]}," RedmineTwoFa Patches AccountControllerPatch SecondAuthenticationStep password_authentication":{"type":"method","name":"password_authentication","children":[],"call":[" render "," protocol second_step_partial "," protocol "," send_code ","@user two_factor_authenticable? ","@user ignore_2fa? ! ","@user ignore_2fa? ","@user locked? ! ","@user locked? ","RedmineTwoFa  switched_on? "]}," RedmineTwoFa Patches AccountControllerPatch SecondAuthenticationPrepare set_otp_session":{"type":"method","name":"set_otp_session","children":[],"call":[" session []= ","@user id "," session "," params [] "," params "]}," RedmineTwoFa Patches AccountControllerPatch SecondAuthenticationPrepare password_authentication":{"type":"method","name":"password_authentication","children":[],"call":[" set_otp_session "," onthefly_creation_failed ","@user auth_source_id ","@user login ","@user new_record? "," invalid_credentials ","@user nil? ","User  try_to_login "," params [] "," params ","User  try_to_login  auth_source_id ","User  try_to_login  login ","User  try_to_login  new_record? ","User  try_to_login  nil? "]}," RedmineTwoFa Patches AccountControllerPatch SecondAuthenticationInit password_authentication":{"type":"method","name":"password_authentication","children":[],"call":[" render ","@user two_factor_authenticable? ","@user ignore_2fa? ","@user locked? ","RedmineTwoFa  switched_off? "]}," RedmineTwoFa Patches AccountControllerPatch ConfirmMethods InstanceMethods increment_failed_attempts":{"type":"method","name":"increment_failed_attempts","children":[],"call":[" session [] "," session "]}," RedmineTwoFa Patches AccountControllerPatch ConfirmMethods InstanceMethods reset_otp_session":{"type":"method","name":"reset_otp_session","children":[],"call":[" session delete "," session "," params []= "," session [] "," params "]}," RedmineTwoFa Patches AccountControllerPatch ConfirmMethods InstanceMethods protocol":{"type":"method","name":"protocol","children":[],"call":["@user two_fa_protocol "]}," RedmineTwoFa Patches AccountControllerPatch ConfirmMethods InstanceMethods update_two_fa":{"type":"method","name":"update_two_fa","children":[],"call":["@user update_columns "," params [] "," params "]}," RedmineTwoFa Patches AccountControllerPatch ConfirmMethods InstanceMethods set_user_from_session":{"type":"method","name":"set_user_from_session","children":[],"call":[" deny_access ","User  find "," session [] "," session "]}," RedmineTwoFa Patches AccountControllerPatch ConfirmMethods InstanceMethods send_code":{"type":"method","name":"send_code","children":[],"call":[" protocol send_code "," protocol "]}," RedmineTwoFa Patches AccountControllerPatch ConfirmMethods InstanceMethods confirm_otp":{"type":"method","name":"confirm_otp","children":[],"call":[" render "," flash []= "," t "," flash "," send_code "," session [] >= "," session [] "," session "," increment_failed_attempts "," successful_authentication "," reset_otp_session "," update_two_fa ","@user two_fa nil? ","@user two_fa ","@user authenticate_otp "," params [] "," params "]}," RedmineTwoFa Patches AccountControllerPatch ConfirmMethods InstanceMethods confirm_2fa":{"type":"method","name":"confirm_2fa","children":[],"call":[" render "," send_code "," update_two_fa "," successful_authentication "," reset_otp_session ","@user update! ","protocol bypass? ","RedmineTwoFa Protocols  [] "," params [] "," params "," render_403 ","RedmineTwoFa  active_protocols keys include? ","RedmineTwoFa  active_protocols keys ","RedmineTwoFa  active_protocols ","RedmineTwoFa Protocols  []  bypass? ","RedmineTwoFa  active_RedmineTwoFa Protocols  [] s keys include? ","RedmineTwoFa  active_RedmineTwoFa Protocols  [] s keys ","RedmineTwoFa  active_RedmineTwoFa Protocols  [] s "]}," RedmineTwoFa Patches AccountControllerPatch ConfirmMethods included":{"type":"method","name":"included","children":[],"call":[]}," Protocols None initial_partial":{"type":"method","name":"initial_partial","children":[],"call":[]}}