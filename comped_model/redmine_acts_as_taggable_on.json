{" RedminePluginPatch warn_about_acts_as_taggable_on":{"type":"method","name":"warn_about_acts_as_taggable_on","children":[],"call":["$stderr write ","msg << "," id "]}," RedminePluginPatch gemfile_path":{"type":"method","name":"gemfile_path","children":[],"call":["File  join "," directory "]}," RedminePluginPatch requires_acts_as_taggable_on?":{"type":"method","name":"requires_acts_as_taggable_on?","children":[],"call":[" warn_about_acts_as_taggable_on ","File  read include? ","File  read "," gemfile_path ","File  exist? "]}," RedminePluginPatch requires_acts_as_taggable_on":{"type":"method","name":"requires_acts_as_taggable_on","children":[],"call":[" fail ","Redmine VERSION MAJOR  < "]}," Migration current_plugin_declaration_made?":{"type":"method","name":"current_plugin_declaration_made?","children":[],"call":["Redmine Plugin Migrator  current_plugin requires_acts_as_taggable_on? ","Redmine Plugin Migrator  current_plugin "," current_plugin requires_acts_as_taggable_on? "," current_plugin "]}," Migration enforce_declarations!":{"type":"method","name":"enforce_declarations!","children":[],"call":[" fail ","msg << "," current_plugin_declaration_made? "]}," Migration ok_to_go_down?":{"type":"method","name":"ok_to_go_down?","children":[],"call":[" requiring_plugins empty? "," requiring_plugins "," plugins_still_using_tables empty? "," plugins_still_using_tables "]}," Migration requiring_plugins":{"type":"method","name":"requiring_plugins","children":[],"call":["p == ","Redmine Plugin Migrator  current_plugin ","Redmine Plugin  all select reject ","Redmine Plugin  all select ","Redmine Plugin  all "]}," Migration performed?":{"type":"method","name":"performed?","children":[],"call":["ActiveRecord Base  connection table_exists? ","ActiveRecord Base  connection ","(str \"tags\") any? "]}," Migration down":{"type":"method","name":"down","children":[],"call":[" say ","p id "," requiring_plugins each "," requiring_plugins "," ok_to_go_down? "," enforce_declarations! "," plugins_still_using_tables each "," plugins_still_using_tables "]}," Migration up":{"type":"method","name":"up","children":[],"call":[" say "," performed? "," enforce_declarations! "," ok_to_go_up? "," check_for_old_style_plugins "]}," RedmineActsAsTaggableOn initialize":{"type":"method","name":"initialize","children":[],"call":[]}," RedminePluginPatch using_acts_as_taggable_on_tables?":{"type":"method","name":"using_acts_as_taggable_on_tables?","children":[],"call":["Redmine Plugin Migrator  current_version == ","Redmine Plugin Migrator  current_version "," requires_acts_as_taggable_on? "]}," Migration plugins_still_using_tables":{"type":"method","name":"plugins_still_using_tables","children":[],"call":["p == ","Redmine Plugin Migrator  current_plugin ","Redmine Plugin  all select reject ","Redmine Plugin  all select ","Redmine Plugin  all "]}," Migration expected_taggings_structure":{"type":"method","name":"expected_taggings_structure","children":[],"call":["(array\n  (str \"tag_id\")\n  (str \"integer\")) sort "]}," Migration expected_tags_structure":{"type":"method","name":"expected_tags_structure","children":[],"call":[]}," Migration obtain_structure":{"type":"method","name":"obtain_structure","children":[],"call":["(send\n  (block\n    (send\n      (send\n        (send\n          (const\n            (const nil :ActiveRecord) :Base) :connection) :columns\n        (lvar :table_name)) :reject)\n    (args\n      (arg :c))\n    (send\n      (array\n        (str \"created_at\")\n        (str \"updated_at\")\n        (str \"id\")) :include?\n      (send\n        (lvar :c) :name))) :map) sort ","c type to_s ","c type ","c name ","(send\n  (send\n    (send\n      (const\n        (const nil :ActiveRecord) :Base) :connection) :columns\n    (lvar :table_name)) :reject) map ","(str \"created_at\") include? ","ActiveRecord Base  connection columns reject ","ActiveRecord Base  connection columns ","ActiveRecord Base  connection "]}," Migration assert_schema_match!":{"type":"method","name":"assert_schema_match!","children":[],"call":[" raise ","msg << "," current_plugin id "," current_plugin "," obtain_structure != "," expected_taggings_structure "," obtain_structure "," expected_tags_structure "]}," Migration ok_to_go_up?":{"type":"method","name":"ok_to_go_up?","children":[],"call":[" assert_schema_match! ","ActiveRecord Base  connection table_exists? ","ActiveRecord Base  connection ","(str \"tags\") any? "]}," Migration check_for_old_style_plugins":{"type":"method","name":"check_for_old_style_plugins","children":[],"call":["p requires_acts_as_taggable_on? ","Redmine Plugin  all each ","Redmine Plugin  all "]}," Migration current_plugin":{"type":"method","name":"current_plugin","children":[],"call":["Redmine Plugin Migrator  current_plugin "]}}