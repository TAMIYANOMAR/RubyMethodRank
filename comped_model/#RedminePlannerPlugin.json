{" RedminePlanner Hooks view_layouts_base_html_head":{"type":"method","name":"view_layouts_base_html_head","children":[],"call":[" javascript_include_tag + ","<script type=\"text/javascript\">//<![CDATA[\njQuery.noConflict();\n//]]></script> html_safe "," javascript_include_tag ","Redmine VERSION MINOR  < ","Redmine VERSION MAJOR  == "," stylesheet_link_tag ","<script type=\"text/javascript\">jQuery.noConflict();</script> html_safe ","<script type=\"text/javascript\">//<![CDATA[\njQuery.n stylesheet_link_tag C stylesheet_link_tag nflict();\n//]]></script> html_safe ","<script type=\"text/javascript\">jQuery.n stylesheet_link_tag C stylesheet_link_tag nflict();</script> html_safe "]}," PlanChart check_empty":{"type":"method","name":"check_empty","children":[],"call":["@data push ","Array  new "," weeks ","@data any? "]}," PlanChart setup_chart":{"type":"method","name":"setup_chart","children":[],"call":["@week_idx []= "," plan_week ","@ticks push ","tmp_date cwyear to_s + + ","tmp_date cweek to_s ","tmp_date cweek ","tmp_date cwyear to_s + ","tmp_date cwyear to_s ","tmp_date cwyear ","weeks times ","@start_date dup ","@start_date + ","7 * ","weeks - "," normalize_date ","@weeks * + ","@weeks * ","@week_ticks push ","W + ","%02d % "," format_date ","Date  today - ","@settings [] to_i ","@settings [] ","Date  today ","weeks > ","Setting  [] ","@start_date dup  cwyear to_s + + ","@start_date dup  cweek to_s ","@start_date dup  cweek ","@start_date dup  cwyear to_s + ","@start_date dup  cwyear to_s ","@start_date dup  cwyear "," normalize_date  dup "," normalize_date  + ","Setting  []  [] to_i ","Setting  []  [] "]}," PlanChart plan_week":{"type":"method","name":"plan_week","children":[],"call":["date cwyear * + ","date cweek ","date cwyear * ","date cwyear "]}," PlanChart normalize_date":{"type":"method","name":"normalize_date","children":[],"call":["Date  commercial ","date cweek ","date cwyear "]}," PlanChart generate_user_chart":{"type":"method","name":"generate_user_chart","children":[],"call":[" check_empty ","@series [] []= "," l + + + + ","request task name ","request task "," l + + + "," l + + ","req to_s "," l + "," l ","@series [] ","@series []= ","PlanRequest  find "," data []= ","series_hash [] "," data ","requests each_with_index ","Array  new ","requests length ","series_hash keys sort ","series_hash keys ","series_hash [] []= ","detail percentage ","@week_idx [] ","detail week ","detail request_id ","details each ","PlanDetail  user_details "," plan_week "," setup_chart "," finalize_chart "," get_color ","@series_details []= "," week_array ","(or\n  (send\n    (ivar :@settings) :[]\n    (str \"graph_target\"))\n  (int 100)) to_i ","@settings [] "," process_request_chart ","Array  new  [] []= ","PlanRequest  find  task name ","PlanRequest  find  task ","Array  new  [] ","Array  new  []= ","PlanRequest  find s each_with_index ","series_hash keys sort  each_with_index ","PlanRequest  find s length ","series_hash keys sort  length ","detail PlanRequest  find _id ","PlanDetail  user_details  each ","PlanDetail  user_PlanDetail  user_details  ","Array  new _details []= ","@series_PlanDetail  user_details  []= "," process_PlanRequest  find _chart "]}," PlanChart finalize_chart":{"type":"method","name":"finalize_chart","children":[],"call":["(send\n  (send\n    (ivar :@max) :*\n    (int 35)) :/\n  (ivar :@tick_interval)) to_i + ","(send\n  (send\n    (ivar :@max) :*\n    (int 35)) :/\n  (ivar :@tick_interval)) to_i ","@max * / ","@max * ","@limit + ","@max < ","max + - ","max % ","max + ","max % == ","@threshold_data [] []= ","@threshold_data [] ","sum >= ","sum > ","i + ","@data [] [] ","@data [] ","sets times ","@weeks times ","(send\n  (send\n    (ivar :@ths_ok) :*\n    (ivar :@limit)) :/\n  (float 100.0)) to_i ","@ths_ok * / ","@ths_ok * ","(send\n  (send\n    (ivar :@ths_over) :*\n    (ivar :@limit)) :/\n  (float 100.0)) to_i ","@ths_over * / ","@ths_over * ","@settings [] to_i ","@settings [] ","@data length "," week_array ","@data push ","Array  new ","@data any? ","@limit > ","@ths_over > ","@limit * ","(or\n  (send\n    (ivar :@settings) :[]\n    (str \"graph_ths_ok\"))\n  (int 80)) to_i ","(or\n  (send\n    (ivar :@settings) :[]\n    (str \"graph_ths_overload\"))\n  (int 110)) to_i ","(or\n  (send\n    (ivar :@settings) :[]\n    (str \"graph_target\"))\n  (int 100)) to_i ","@weeks * + ","@weeks * ","target + ","target > ","@calc work_target ","@calc workload_class ","PlanCalc WORKLOAD_CLASS_COLORS  [] ","(send\n  (send\n    (ivar :@limit + ) :*\n    (int 35)) :/\n  (ivar :@tick_interval)) to_i + ","(send\n  (send\n    (ivar :max + - ) :*\n    (int 35)) :/\n  (ivar :@tick_interval)) to_i + ","(send\n  (send\n    (ivar :target + ) :*\n    (int 35)) :/\n  (ivar :@tick_interval)) to_i + ","(send\n  (send\n    (ivar :@limit + ) :*\n    (int 35)) :/\n  (ivar :@tick_interval)) to_i ","(send\n  (send\n    (ivar :max + - ) :*\n    (int 35)) :/\n  (ivar :@tick_interval)) to_i ","(send\n  (send\n    (ivar :target + ) :*\n    (int 35)) :/\n  (ivar :@tick_interval)) to_i ","@limit +  * / ","max + -  * / ","target +  * / ","@limit +  * ","max + -  * ","target +  * ","@limit *  + ","(or\n  (send\n    (ivar :@settings) :[]\n    (str \"graph_target\"))\n  (int 100)) to_i  + ","@limit +  < ","max + -  < ","target +  < ","@data length  times ","(send\n  (send\n    (ivar :(send\n  (send\n    (ivar :@ths_ok) :*\n    (ivar :@limit)) :/\n  (float 100.0)) to_i ) :*\n    (ivar :@limit)) :/\n  (float 100.0)) to_i ","(send\n  (send\n    (ivar :@settings [] to_i ) :*\n    (ivar :@limit)) :/\n  (float 100.0)) to_i ","(send\n  (send\n    (ivar :@ths_ok * ) :*\n    (ivar :@limit)) :/\n  (float 100.0)) to_i ","(send\n  (send\n    (ivar :(or\n  (send\n    (ivar :@settings) :[]\n    (str \"graph_ths_ok\"))\n  (int 80)) to_i ) :*\n    (ivar :@limit)) :/\n  (float 100.0)) to_i ","(send\n  (send\n    (ivar :@ths_ok) :*\n    (ivar :@limit * )) :/\n  (float 100.0)) to_i ","(send\n  (send\n    (ivar :@ths_ok) :*\n    (ivar :(or\n  (send\n    (ivar :@settings) :[]\n    (str \"graph_target\"))\n  (int 100)) to_i )) :/\n  (float 100.0)) to_i ","(send\n  (send\n    (ivar :@ths_ok) :*\n    (ivar :@limit)) :/\n  (float 100.0)) to_i  * / ","@settings [] to_i  * / ","@ths_ok *  * / ","(or\n  (send\n    (ivar :@settings) :[]\n    (str \"graph_ths_ok\"))\n  (int 80)) to_i  * / ","(send\n  (send\n    (ivar :@ths_ok) :*\n    (ivar :@limit)) :/\n  (float 100.0)) to_i  * ","@settings [] to_i  * ","@ths_ok *  * ","(or\n  (send\n    (ivar :@settings) :[]\n    (str \"graph_ths_ok\"))\n  (int 80)) to_i  * ","(send\n  (send\n    (ivar :(send\n  (send\n    (ivar :@ths_over) :*\n    (ivar :@limit)) :/\n  (float 100.0)) to_i ) :*\n    (ivar :@limit)) :/\n  (float 100.0)) to_i ","(send\n  (send\n    (ivar :@ths_over * ) :*\n    (ivar :@limit)) :/\n  (float 100.0)) to_i ","(send\n  (send\n    (ivar :(or\n  (send\n    (ivar :@settings) :[]\n    (str \"graph_ths_overload\"))\n  (int 110)) to_i ) :*\n    (ivar :@limit)) :/\n  (float 100.0)) to_i ","(send\n  (send\n    (ivar :@ths_over) :*\n    (ivar :@limit * )) :/\n  (float 100.0)) to_i ","(send\n  (send\n    (ivar :@ths_over) :*\n    (ivar :(or\n  (send\n    (ivar :@settings) :[]\n    (str \"graph_target\"))\n  (int 100)) to_i )) :/\n  (float 100.0)) to_i ","(send\n  (send\n    (ivar :@ths_over) :*\n    (ivar :@limit)) :/\n  (float 100.0)) to_i  * / ","@ths_over *  * / ","(or\n  (send\n    (ivar :@settings) :[]\n    (str \"graph_ths_overload\"))\n  (int 110)) to_i  * / ","(send\n  (send\n    (ivar :@ths_over) :*\n    (ivar :@limit)) :/\n  (float 100.0)) to_i  * ","@ths_over *  * ","(or\n  (send\n    (ivar :@settings) :[]\n    (str \"graph_ths_overload\"))\n  (int 110)) to_i  * ","@limit *  > ","(or\n  (send\n    (ivar :@settings) :[]\n    (str \"graph_target\"))\n  (int 100)) to_i  > ","(send\n  (send\n    (ivar :@ths_over) :*\n    (ivar :@limit)) :/\n  (float 100.0)) to_i  > ","@settings [] to_i  > ","@ths_over *  > ","(or\n  (send\n    (ivar :@settings) :[]\n    (str \"graph_ths_overload\"))\n  (int 110)) to_i  > ","@limit *  * ","(or\n  (send\n    (ivar :@settings) :[]\n    (str \"graph_target\"))\n  (int 100)) to_i  * ","(or\n  (send\n    (ivar :@settings) :[]\n    (str \"graph_@calc work_target \"))\n  (int 100)) to_i ","@calc work_target  + ","@calc work_target  > ","@calc work_@calc work_target  "]}," PlanChart week_array":{"type":"method","name":"week_array","children":[],"call":["Array  new "]}," PlanChart get_color":{"type":"method","name":"get_color","children":[],"call":["COLORS  [] ","i % ","COLORS  length "]}," PlanChart generate_group_chart":{"type":"method","name":"generate_group_chart","children":[],"call":[" finalize_chart ","@series [] []= "," get_color ","@series [] ","@series []= ","@series_details []= "," data []= "," week_array ","series_hash [] ","res id to_s ","res id "," data ","resources each_with_index ","Array  new ","series_hash length ","group users sort ","group users ","series_hash [] []= ","detail percentage ","@week_idx [] ","detail week ","detail resource_id to_s ","detail resource_id ","details each ","PlanDetail  group_overview "," plan_week ","(or\n  (send\n    (ivar :@settings) :[]\n    (str \"graph_target\"))\n  (int 100)) to_i * ","group users length ","(or\n  (send\n    (ivar :@settings) :[]\n    (str \"graph_target\"))\n  (int 100)) to_i ","@settings [] "," setup_chart ","@calc scale= ","Array  new  [] []= ","Array  new  [] ","Array  new  []= ","Array  new _details []= ","@series_PlanDetail  group_overview  []= ","group users sort  each_with_index ","PlanDetail  group_overview  each "]}," PlanChart process_request_chart":{"type":"method","name":"process_request_chart","children":[],"call":[" finalize_chart ","@series [] []= "," get_color ","@series [] ","@series []= ","@series_details []= ","PlanRequest  find "," data []= ","series_hash [] "," data ","requests each_with_index ","Array  new ","requests length ","series_hash keys sort ","series_hash keys ","series_hash [] []= ","detail percentage ","@week_idx [] ","detail week ","detail request_id "," week_array ","details each ","req_hash [] ","detail request ","Array  new  [] []= ","Array  new  [] ","Array  new  []= ","Array  new _details []= ","series_hash keys sort  each_with_index ","series_hash keys sort  length "]}," PlanChart generate_task_chart":{"type":"method","name":"generate_task_chart","children":[],"call":[" process_request_chart ","PlanDetail  task_details "," plan_week "," setup_chart ","@calc scale= ","PlanDetail  task_PlanDetail  task_details  "]}," PlannerProjectsHelperMethods project_settings_tabs_with_planner":{"type":"method","name":"project_settings_tabs_with_planner","children":[],"call":["tabs << ","User  current allowed_to? ","User  current "," project_settings_tabs_without_planner "," project_settings_tabs_without_planner  << "," project_settings_ project_settings_tabs_without_planner _without_planner "]}," PlannerProjectsHelperPatch included":{"type":"method","name":"included","children":[],"call":[]}," PlanRequestStateHandling process_request_states":{"type":"method","name":"process_request_states","children":[],"call":["@states << "," params [] == "," params [] "," params "," params [] != "]}," PlanChart initialize":{"type":"method","name":"initialize","children":[],"call":["@week_idx []= ","PlanDetail  plan_week ","@week_ticks push ","W + ","%02d % ","tmp_date cweek ","@ticks push "," format_date ","weeks times ","@start_date dup ","@start_date + ","7 * ","weeks - ","PlanCalc  normalize_date ","Date  today - ","@calc config [] to_i ","@calc config [] ","@calc config ","Date  today ","weeks > ","PlanCalc  new ","@start_date dup  cweek ","PlanCalc  normalize_date  dup ","PlanCalc  normalize_date  + ","PlanCalc  new  config [] to_i ","PlanCalc  new  config [] ","PlanCalc  new  config "]}," PlanCalc weekly_load":{"type":"method","name":"weekly_load","children":[],"call":["@weekly_load [] "]}," PlanCalc prepare_user_req_workload":{"type":"method","name":"prepare_user_req_workload","children":[],"call":["@weekly_load []= ","det percentage ","det week ","list each ","PlanDetail  user_req_workload ","PlanDetail  user_req_workload  each "]}," PlanCalc workload_color":{"type":"method","name":"workload_color","children":[],"call":["background-color:  + + + + ","background-color:  + + + ","WORKLOAD_CLASS_FONT_COLORS  [] ","background-color:  + + ","background-color:  + ","WORKLOAD_CLASS_COLORS  [] "," workload_class "]}," PlanCalc workload_class":{"type":"method","name":"workload_class","children":[],"call":["workload >= ","workload > ","@work_ths_over > "]}," PlanCalc scale=":{"type":"method","name":"scale=","children":[],"call":["@scale * ","@config [] to_i ","@config [] "]}," PlanCalc initialize":{"type":"method","name":"initialize","children":[],"call":[" scale= ","PlanConfig  project_config "]}," PlanCalc normalize_date":{"type":"method","name":"normalize_date","children":[],"call":[]}}